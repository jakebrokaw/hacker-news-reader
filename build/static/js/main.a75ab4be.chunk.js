(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(n,t,e){n.exports=e(80)},80:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),a=e(10),i=e.n(a),c=e(13),u=e(4),s=e(7),l={SET_THEME:"".concat("@hnClone/app","/SET_THEME")},d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"dark"},t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case l.SET_THEME:return Object(s.a)({},n,r);default:return n}},f=e(20),h=e(11),p=e(12),S=e(30),g=e.n(S),E=Object({NODE_ENV:"production",PUBLIC_URL:""}).URL||"http://localhost:3000/",m=2e3,v={"Content-Type":"application/json",Accept:"application/json"},b=new(function(){function n(t){var e=t.baseURL,r=void 0===e?E:e,o=t.timeout,a=void 0===o?m:o,i=t.headers,c=void 0===i?v:i,u=t.auth;Object(h.a)(this,n);var s=g.a.create({baseURL:r,timeout:a,headers:c,auth:u});s.interceptors.response.use(this.handleSuccess,this.handleError),this.client=s}return Object(p.a)(n,[{key:"handleSuccess",value:function(n){return n}},{key:"handleError",value:function(n){return Promise.reject(n)}},{key:"get",value:function(n){return this.client.get(n).then(function(n){return n.data})}},{key:"post",value:function(n,t){return this.client.post(n,t).then(function(n){return n.data})}},{key:"put",value:function(n,t){return this.client.put(n,t).then(function(n){return n.data})}},{key:"patch",value:function(n,t){return this.client.patch(n,t).then(function(n){return n.data})}},{key:"delete",value:function(n){return this.client.delete(n).then(function(n){return n.data})}}]),n}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),y={};y.getNewStoryIds=function(){return b.get("/newstories".concat(".json?print=pretty"))},y.getTopStory=function(n){return b.get("/item/".concat(n).concat(".json?print=pretty"))},y.getStoriesByPage=function(n,t){var e=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:t*n,end:(t+1)*n}}(20,t),r=function(n){var t=n.begin,e=n.end;return n.items.slice(t,e)}({begin:e.begin,end:e.end,items:n}).map(function(n){return y.getTopStory(n)});return Promise.all(r)};var T=y,_="@hrReader/story",w={FETCH_STORY_IDS_REQUEST:"".concat(_,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(_,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(_,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_REQUEST:"".concat(_,"/FETCH_STORIES_REQUEST"),FETCH_STORIES_SUCCESS:"".concat(_,"/FETCH_STORIES_SUCCESS"),FETCH_STORIES_FAILURE:"".concat(_,"/FETCH_STORIES_FAILURE")},O=function(n,t){return{type:n,payload:t}},C={fetchStoryIds:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t(O(w.FETCH_STORY_IDS_REQUEST,n)),T.getNewStoryIds().then(function(n){return t(O(w.FETCH_STORY_IDS_SUCCESS,{storyIds:n})),t(C.fetchStories({storyIds:n,page:0})),n}).catch(function(n){return t(O(w.FETCH_STORY_IDS_FAILURE,n))})}},fetchStories:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var e=n.storyIds,r=n.page;return t(O(w.FETCH_STORIES_REQUEST,n)),T.getStoriesByPage(e,r).then(function(n){return t(O(w.FETCH_STORIES_SUCCESS,{stories:n}))}).catch(function(n){return t(O(w.FETCH_STORIES_FAILURE,n))})}}},I=C,R=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case w.FETCH_STORY_IDS_REQUEST:case w.FETCH_STORIES_REQUEST:return Object(s.a)({},n,{isFetching:!0});case w.FETCH_STORY_IDS_SUCCESS:return Object(s.a)({},n,r);case w.FETCH_STORIES_SUCCESS:return Object(s.a)({},n,{stories:[].concat(Object(f.a)(n.stories),Object(f.a)(r.stories)),page:n.page+1,isFetching:!1});default:return n}},x=Object(u.c)({story:R,app:d}),j=e(31),F=(e(32),[]);F.push(j.a);var k=Object(u.d)(u.a.apply(void 0,F)),U=function(n){return Object(u.e)(x,n,k)},H=e(33),L=Object(H.a)(function(n){return n.story.storyIds},function(n){return n.story.stories},function(n,t){return n.length>t.length}),A=e(17),D=e.n(A),Y=e(34),P=e(41),B=e(35),N=e(43),Q=e(1),M=e(36),W=e.n(M),z=e(37),J=e.n(z),V=e(38),$=e.n(V),q=function(n){var t="";return n&&(n.includes("//")||(n="http://".concat(n)),t=$.a.parse(n).hostname),t.includes("www.")&&(t=t.split("www.")[1]),t},G="https://news.ycombinator.com",K="".concat(G,"/item?id="),X="".concat(G,"/user?id="),Z=function(n){var t=n.url,e=n.id,r="".concat(K).concat(e);return t||r},nn=e(2);function tn(){var n=Object(nn.a)(["\n  color: ",";\n\n  &:visited {\n    color: ",";\n  }\n"]);return tn=function(){return n},n}function en(){var n=Object(nn.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return en=function(){return n},n}function rn(){var n=Object(nn.a)(["\n  color: ",";\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n"]);return rn=function(){return n},n}function on(){var n=Object(nn.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return on=function(){return n},n}function an(){var n=Object(nn.a)(["\n  color: ",";\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n"]);return an=function(){return n},n}function cn(){var n=Object(nn.a)(["\n  border-bottom: 1px solid ",";\n  padding: 14px 24px;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return cn=function(){return n},n}var un=Q.c.li(cn(),function(n){return n.theme.border}),sn=Q.c.h3(an(),function(n){return n.theme.text}),ln=Q.c.span(on(),function(n){return n.theme.textSecondary}),dn=Q.c.a(rn(),function(n){return n.theme.text}),fn=Q.c.div(en(),function(n){return n.theme.textSecondary}),hn=Q.c.a(tn(),function(n){return n.theme.textSecondary},function(n){return n.theme.textSecondary}),pn="nofollow noreferrer noopener",Sn=function(n){var t=n.by,e=n.kids,r=void 0===e?[]:e,a=n.score,i=n.url,c=n.title,u=n.id,s=(n.type,n.time),l=q(i)||"news.ycombinator.com",d=Z({url:i,id:u}),f="".concat(K).concat(u);return o.a.createElement(un,null,o.a.createElement(dn,{href:d,rel:pn,target:"_blank"},o.a.createElement(sn,null,c," ",o.a.createElement(ln,null,"(",l,")"))),o.a.createElement(fn,null,a," points by"," ",o.a.createElement(hn,{href:"".concat(X).concat(t),rel:pn,target:"_blank"},t)," ",o.a.createElement(J.a,{date:new Date(1e3*s).toISOString()})," | ",o.a.createElement(hn,{href:f,rel:pn,target:"_blank"},r.length," Comments")))};function gn(){var n=Object(nn.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return gn=function(){return n},n}var En=Q.c.ul(gn(),function(n){return n.theme.backgroundSecondary}),mn=function(n){var t=n.stories;return o.a.createElement(En,null,t.map(function(n){return o.a.createElement(Sn,Object.assign({key:n.id},n))}))};function vn(){var n=Object(nn.a)(["\n  text-align: center;\n\n  span {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n    animation-name: ",";\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-fill-mode: both;\n  }\n\n  span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n  \n  span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n"]);return vn=function(){return n},n}function bn(){var n=Object(nn.a)(["\n  0% {\n    opacity: .2;\n  }\n  20% {\n    opacity: 1;\n  }\n  100% {\n    opacity: .2;\n  }\n"]);return bn=function(){return n},n}var yn=Object(Q.d)(bn()),Tn=Q.c.div(vn(),function(n){return n.theme.textSecondary},yn),_n=function(){return o.a.createElement(Tn,null,o.a.createElement("span",null,"."),o.a.createElement("span",null,"."),o.a.createElement("span",null,"."))},wn={background:"#272727",backgroundSecondary:"#393C3E",text:"#BFBEBE",textSecondary:"#848886",border:"#272727"};function On(){var n=Object(nn.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 300;\n  margin-top: 24px;\n  margin-bottom: 26px;\n"]);return On=function(){return n},n}function Cn(){var n=Object(nn.a)(["\n  width: 85%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n\n  "," {\n    width: 96%;\n  }\n"]);return Cn=function(){return n},n}var In=Q.c.div(Cn(),"@media only screen and (max-width: 768px)"),Rn=Q.c.h1(On(),function(n){return n.theme.textSecondary}),xn=function(n){function t(){var n,e;Object(h.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=Object(P.a)(this,(n=Object(B.a)(t)).call.apply(n,[this].concat(o)))).fetchStories=function(){var n=e.props,t=n.storyIds,r=n.page,o=n.fetchStories;n.isFetching&&o({storyIds:t,page:r})},e}return Object(N.a)(t,n),Object(p.a)(t,[{key:"componentDidMount",value:function(){var n=Object(Y.a)(D.a.mark(function n(){return D.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.props.fetchStoriesFirstPage();case 1:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this.props,t=n.stories,e=n.hasMoreStories;return o.a.createElement(Q.a,{theme:wn},o.a.createElement("div",null,o.a.createElement(In,null,o.a.createElement(Rn,null,"Hacker News Reader"),o.a.createElement(W.a,{dataLength:t.length,next:this.fetchStories,hasMore:e,loader:o.a.createElement(_n,null),style:{height:"100%",overflow:"visible"}},o.a.createElement(mn,{stories:t})))))}}]),t}(r.Component),jn=Object(c.b)(function(n){return{stories:n.story.stories,page:n.story.page,storyIds:n.story.storyIds,isFetching:n.story.isFetching,hasMoreStories:L(n)}},function(n){return{fetchStories:function(t){var e=t.storyIds,r=t.page;return n(I.fetchStories({storyIds:e,page:r}))},fetchStoriesFirstPage:function(){return n(I.fetchStoryIds())}}})(xn);function Fn(){var n=Object(nn.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    font-family: Lato, Helvetica Neue, Helvetica, Arial, sans-serif;\n    width: 100vw;\n    overflow-x: hidden;\n    margin: 0;\n    padding: 0;\n    background-color: #272727;\n  }\n\n  ul {\n    list-style: none;\n    padding: 0;\n  }\n\n  a {\n    text-decoration: none;\n    \n    &:visited {\n      color: inherit;\n    }\n  }\n"]);return Fn=function(){return n},n}var kn=Object(Q.b)(Fn()),Un=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Hn(n,t){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var e=n.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(n)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(n)))})}}).catch(function(n){console.error("Error during service worker registration:",n)})}!function(){var n=U({});i.a.render(o.a.createElement(c.a,{store:n},o.a.createElement("div",null,o.a.createElement(kn,null),o.a.createElement(jn,null))),document.getElementById("root"))}(),function(n){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Un?(function(n,t){fetch(n).then(function(e){var r=e.headers.get("content-type");404===e.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):Hn(n,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Hn(t,n)})}}()}},[[44,2,1]]]);
//# sourceMappingURL=main.a75ab4be.chunk.js.map